<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Patient</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <form th:action='@{${action}}' method="post" th:object='${patient}'>
            <input th:if="${patient.patientId != null}" th:field="*{patientId}" type="number" id="patientId" name="patientId" readonly="true"/>
            <input th:if="${patient.patientId == null}" th:field="*{patientId}" type="hidden" id="patientId" name="patientId"/>
            <input th:field="*{fullname}" type="text" id="fullname" name="fullname" required="true" maxlength="200" placeholder="Fullname"/>
            <input th:field="*{gender}" type="text" id="gender" name="gender" required="true" maxlength="10" placeholder="Gender"/>
            <input th:field="*{dateOfBirth}" type="date" id="dateOfBirth" name="dateOfBirth" placeholder="Date of birth"/>
            <input th:field="*{phone}" type="tel" id="phone" name="phone" required="true" maxlength="20" placeholder="phone"/>
            <input th:field="*{email}" type="email" id="email" name="email" maxlength="200" placeholder="email"/>
            <input th:field="*{idNumber}" type="text" id="idNumber" name="idNumber" maxlength="20" placeholder="ID number"/>
            <input th:field="*{address}" type="text" id="address" name="address" maxlength="200" placeholder="Address"/>
            <textarea th:field="*{note}" id="note" name="note" placeholder="Note"></textarea>
            <input th:if="${patient.patientId != null}" th:field="*{createdDate}" type="datetime" id="createdDate" name="createdDate" readonly="true"/>
            <input th:if="${patient.patientId != null}" th:field="*{updatedDate}" type="datetime" id="updatedDate" name="updatedDate" readonly="true"/>
            <button type="submit" th:text="${submitPatientForm}">Submit</button>
            <a th:href="@{/patient-list}">Cancel</a>
        </form>
        <a th:href="@{'/patient/' + ${patient.patientId} + '/create-health-profile'}">Create health profile</a>
        <table class="table table-hover">
            <tr>
                <th>Health profile id</th>
                <th>Hospital name</th>
                <th>Code</th>
                <th>Type</th>
                <th></th>
            </tr>
            <tr th:each="h:${healthProfileList}">
                <td th:text="${h.healthProfileId}"></td>
                <td th:text="${h.hospital.name}"></td>
                <td th:text="${h.code}"></td>
                <td>
                    <a href="#">View</a>
                    <a href="#">Delete</a>
                </td>
            </tr>
        </table>
    </body>
</html>
